<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>–†–∞–π–æ–Ω–∏</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: fadeIn 1s ease-in;
      position: relative;
      padding-bottom: 160px; /* —â–æ–± —Ñ—É—Ç–µ—Ä –Ω–µ –ø–µ—Ä–µ–∫—Ä–∏–≤–∞–≤ –∫–æ–Ω—Ç–µ–Ω—Ç */
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background-color: rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(6px);
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header input[type="text"] {
      padding: 12px 20px;
      border-radius: 30px;
      border: none;
      outline: none;
      font-size: 1rem;
      width: 280px;
      max-width: 60vw;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      transition: box-shadow 0.3s ease, background-color 0.3s ease;
      color: #333;
      background-color: #fff;
    }
    header input[type="text"]::placeholder {
      color: #aaa;
    }
    header input[type="text"]:focus {
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      background-color: #fff;
    }

    header button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 24px;
      color: white;
      transition: color 0.3s ease;
    }
    header button:hover {
      color: #ffd700;
    }

    header img {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid white;
      cursor: pointer;
      transition: box-shadow 0.3s ease;
    }
    header img:hover {
      box-shadow: 0 0 10px 2px #ffd700;
    }

    nav {
      margin: 20px;
      background-color: rgba(255, 255, 255, 0.12);
      padding: 10px 20px;
      border-radius: 12px;
      backdrop-filter: blur(6px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    }

    nav a {
      color: #fff;
      text-decoration: none;
      margin: 0 12px;
      font-weight: 600;
      transition: color 0.3s ease;
      font-size: 1.1rem;
    }

    nav a:hover {
      color: #ffd700;
    }

    h1 {
      margin: 0 0 20px 0;
      font-size: 2.5rem;
      text-align: center;
      animation: slideDown 0.8s ease-out;
    }

    @keyframes slideDown {
      from { transform: translateY(-30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    table {
      width: 90%;
      max-width: 900px;
      border-collapse: collapse;
      margin: 20px auto 40px;
      background-color: rgba(255, 255, 255, 0.12);
      border-radius: 12px;
      overflow: hidden;
      backdrop-filter: blur(4px);
      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3);
      animation: fadeIn 1.2s ease-in-out;
      color: white;
    }

    th, td {
      padding: 14px 20px;
      text-align: left;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }

    th {
      background-color: rgba(255, 255, 255, 0.18);
      font-weight: bold;
    }

    tr:hover {
      background-color: rgba(255, 255, 255, 0.12);
      transition: background-color 0.3s ease;
    }

    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: rgba(255,255,255,0.07);
      backdrop-filter: blur(8px);
      padding: 18px 24px;
      color: #ccc;
      font-size: 0.82rem;
      text-align: center;
      line-height: 1.5;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.15);
      user-select: none;
      pointer-events: none; /* —â–æ–± –Ω–µ –∑–∞–≤–∞–∂–∞–≤ –∫–ª—ñ–∫–∞–º –ø–æ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ */
      z-index: 100;
      font-style: italic;
      max-height: 140px;
      overflow-y: auto;
    }

    footer a {
      color: #ffd700;
      text-decoration: underline;
      pointer-events: auto; /* –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ */
      transition: color 0.3s ease;
    }
    footer a:hover {
      color: #fff;
    }

    .dark-theme {
      background: #111;
      color: #eee;
    }

    .dark-theme a { color: #aeeaff; }

    .dark-theme header, .dark-theme nav, .dark-theme footer {
      background-color: rgba(255,255,255,0.04);
    }

    @media (max-width: 600px) {
      table, thead, tbody, th, td, tr {
        display: block;
      }

      thead {
        display: none;
      }

      td {
        padding: 10px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        position: relative;
      }

      td::before {
        content: attr(data-label);
        font-weight: bold;
        display: block;
        margin-bottom: 5px;
        color: #ffd700;
      }
    }
  </style>
</head>
<body>
  <header>
    <input type="text" placeholder="–©–æ–± –ø–æ—á–∞—Ç–∏ –ø–æ—à—É–∫, –≤–≤–µ–¥—ñ—Ç—å –∑–∞–ø–∏—Ç —Ç—É—Ç." />
    <div style="display: flex; align-items: center; gap: 16px;">
      <button id="themeToggle" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">üåì</button>
      <a href="C:\Users\user\Desktop\stat_main\public\profile.html" title="–û—Å–æ–±–∏—Å—Ç–∏–π –ø—Ä–æ—Ñ—ñ–ª—å">
        <img src="https://cdn-icons-png.flaticon.com/512/1077/1077063.png" alt="–ü—Ä–æ—Ñ—ñ–ª—å">
      </a>
    </div>
  </header>

  <nav>
    <a href="communities.html">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="districts.html">–†–∞–π–æ–Ω–∏</a>
    <a href="districts.html">–ì—Ä–æ–º–∞–¥–∏</a>
    <a href="datasets.html">–ù–∞–±–æ—Ä–∏ –¥–∞–Ω–∏—Ö</a>
    <a href="news.html">–ù–æ–≤–∏–Ω–∏</a>
  </nav>

  <h1>–°–ø–∏—Å–æ–∫ —Ä–∞–π–æ–Ω—ñ–≤</h1>

  <table>
    <thead>
      <tr>
        <th>–ù–∞–∑–≤–∞</th>
        <th>–ü–ª–æ—â–∞ (–∫–º¬≤)</th>
        <th>–ù–∞—Å–µ–ª–µ–Ω–Ω—è</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td data-label="–ù–∞–∑–≤–∞">–õ—å–≤—ñ–≤—Å—å–∫–∏–π</td>
        <td data-label="–ü–ª–æ—â–∞ (–∫–º¬≤)">1200.50</td>
        <td data-label="–ù–∞—Å–µ–ª–µ–Ω–Ω—è">800,000</td>
      </tr>
      <tr>
        <td data-label="–ù–∞–∑–≤–∞">–°–∞–º–±—ñ—Ä—Å—å–∫–∏–π</td>
        <td data-label="–ü–ª–æ—â–∞ (–∫–º¬≤)">950.75</td>
        <td data-label="–ù–∞—Å–µ–ª–µ–Ω–Ω—è">320,000</td>
      </tr>
     
    </tbody>
  </table>

  <footer>
    <p><strong>stat.loda.gov.ua</strong></p>
    <p>–õ—å–≤—ñ–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å, –º. –õ—å–≤—ñ–≤, –≤—É–ª. –í. –í–∏–Ω–Ω–∏—á–µ–Ω–∫–∞, 12 (2 –ø–æ–≤–µ—Ä—Ö)</p>
    <p>–¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+380322752774" style="color:#ffd700;">+380322752774</a></p>
    <p>–Ø–∫—â–æ –≤–∏ –º–∞—î—Ç–µ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è –∞–±–æ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó, –±—É–¥—å –ª–∞—Å–∫–∞, –Ω–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º: 
      <a href="mailto:thedigital@loda.gov.ua">thedigital@loda.gov.ua</a>
    </p>
    <p>–°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –Ω–∞–º–∏:</p>
    <p>¬© –ü—Ä–æ—î–∫—Ç —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º –∑ –ø–∏—Ç–∞–Ω—å —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –õ—å–≤—ñ–≤—Å—å–∫–æ—ó –û–î–ê –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–∏ "–¶–∏—Ñ—Ä–æ–≤–∞ –õ—å–≤—ñ–≤—â–∏–Ω–∞" 2022‚Äì2024</p>
    <p>–ö–æ–Ω—Ç–µ–Ω—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–æ –∑–∞ <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer">CC BY 4.0</a>, —è–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ —ñ–Ω—à–µ.</p>
    <p><em>–ü—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–µ.</em></p>
  </footer>



  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const searchInput = document.querySelector('header input[type="text"]');
      const rows = document.querySelectorAll('tbody tr');
  
      searchInput.addEventListener('input', () => {
        const query = searchInput.value.toLowerCase();
  
        rows.forEach(row => {
          const rowText = row.textContent.toLowerCase();
          row.style.display = rowText.includes(query) ? '' : 'none';
        });
      });
    });
  </script>


  <script>
    const toggle = document.getElementById('themeToggle');
    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-theme');
      localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
    });

    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') document.body.classList.add('dark-theme');
    });
  </script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const tbody = document.getElementById('districts-tbody');
    const searchInput = document.querySelector('header input[type="text"]');

    // —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ä—è–¥–∫—ñ–≤ —É —Ç–∞–±–ª–∏—Ü—é
    function renderDistricts(districts) {
      tbody.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é

      districts.forEach(district => {
       
        const population = district.num_settlements?.toLocaleString() || '-';

        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td data-label="–ù–∞–∑–≤–∞">${district.name}</td>
          <td data-label="–ü–ª–æ—â–∞ (–∫–º¬≤)">${district.area_km2 ?? '-'}</td>
          <td data-label="–ù–∞—Å–µ–ª–µ–Ω–Ω—è">${population}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ä—è–¥–∫—ñ–≤ –ø–æ –ø–æ—à—É–∫—É
    function filterTable() {
      const query = searchInput.value.toLowerCase();
      const rows = tbody.querySelectorAll('tr');

      rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(query) ? '' : 'none';
      });
    }

    // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ API
    async function loadDistricts() {
      try {
        const response = await fetch('/api/districts');
        if (!response.ok) throw new Error('–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ');
        const data = await response.json();

        renderDistricts(data);
        filterTable(); 
      } catch (error) {
        tbody.innerHTML = `<tr><td colspan="3" style="color: #ffd700; text-align:center;">–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ</td></tr>`;
        console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ä–∞–π–æ–Ω—ñ–≤:', error);
      }
    }

    // –ü–æ–¥—ñ—è –ø–æ—à—É–∫—É
    searchInput.addEventListener('input', filterTable);

    loadDistricts();
  });
</script>

</body>
</html>
