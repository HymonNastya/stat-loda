<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>–ì—Ä–æ–º–∞–¥–∏</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #43cea2, #185a9d);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: fadeIn 1s ease-in;
      position: relative;
      padding-bottom: 160px; /* –¥–ª—è —Ñ—É—Ç–µ—Ä–∞ */
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background-color: rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(6px);
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header input[type="text"] {
      padding: 12px 20px;
      border-radius: 30px;
      border: none;
      outline: none;
      font-size: 1rem;
      width: 280px;
      max-width: 60vw;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      transition: box-shadow 0.3s ease, background-color 0.3s ease;
      color: #333;
      background-color: #fff;
    }
    header input[type="text"]::placeholder {
      color: #aaa;
    }
    header input[type="text"]:focus {
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      background-color: #fff;
    }

    header button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 24px;
      color: white;
      transition: color 0.3s ease;
    }
    header button:hover {
      color: #ffd700;
    }

    header img {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid white;
      cursor: pointer;
      transition: box-shadow 0.3s ease;
    }
    header img:hover {
      box-shadow: 0 0 10px 2px #ffd700;
    }

    nav {
      margin: 20px;
      background-color: rgba(255, 255, 255, 0.12);
      padding: 10px 20px;
      border-radius: 12px;
      backdrop-filter: blur(6px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    }

    nav a {
      color: #fff;
      text-decoration: none;
      margin: 0 12px;
      font-weight: 600;
      transition: color 0.3s ease;
      font-size: 1.1rem;
    }

    nav a:hover {
      color: #ffd700;
    }

    h1 {
      margin: 0;
      font-size: 2.5rem;
      text-align: center;
      animation: slideDown 0.8s ease-out;
    }

    @keyframes slideDown {
      from { transform: translateY(-30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    table {
      width: 95%;
      max-width: 1000px;
      border-collapse: collapse;
      margin: 20px auto 40px;
      background-color: rgba(255, 255, 255, 0.12);
      border-radius: 12px;
      overflow: hidden;
      backdrop-filter: blur(4px);
      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3);
      animation: fadeIn 1.2s ease-in-out;
      color: white;
    }

    th, td {
      padding: 14px 20px;
      text-align: left;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }

    th {
      background-color: rgba(255, 255, 255, 0.18);
      font-weight: bold;
    }

    tr:hover {
      background-color: rgba(255, 255, 255, 0.12);
      transition: background-color 0.3s ease;
    }

    a.link {
      color: #ffd700;
      text-decoration: none;
      font-weight: bold;
    }

    a.link:hover {
      text-decoration: underline;
    }


    #chartModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    #chartModal .modal-content {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 600px;
      width: 90%;
      position: relative;
    }

    #chartModal canvas {
      max-height: 300px;
    }

    #chartModal button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: red;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 6px;
      cursor: pointer;
    }

    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: rgba(255,255,255,0.07);
      backdrop-filter: blur(8px);
      padding: 18px 24px;
      color: #ccc;
      font-size: 0.82rem;
      text-align: center;
      line-height: 1.5;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.15);
      user-select: none;
      pointer-events: none; /* —â–æ–± –Ω–µ –∑–∞–≤–∞–∂–∞–≤ –∫–ª—ñ–∫–∞–º –ø–æ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ */
      z-index: 100;
      font-style: italic;
      max-height: 140px;
      overflow-y: auto;
    }

    footer a {
      color: #ffd700;
      text-decoration: underline;
      pointer-events: auto; /* –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ */
      transition: color 0.3s ease;
    }
    footer a:hover {
      color: #fff;
    }

    .dark-theme {
      background: #111;
      color: #eee;
    }

    .dark-theme a { color: #aeeaff; }

    .dark-theme header, .dark-theme nav, .dark-theme footer {
      background-color: rgba(255,255,255,0.04);
    }

    @media (max-width: 600px) {
      table, thead, tbody, th, td, tr {
        display: block;
      }

      thead {
        display: none;
      }

      td {
        padding: 10px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        position: relative;
      }

      td::before {
        content: attr(data-label);
        font-weight: bold;
        display: block;
        margin-bottom: 5px;
        color: #ffd700;
      }
    }
  </style>
</head>
<body>
  <header>
    <input type="text" placeholder="–ü–æ—à—É–∫..." />
    <div style="display: flex; align-items: center; gap: 16px;">
      <button id="themeToggle" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">üåì</button>
      <a href="C:\Users\user\Desktop\stat_main\public\profile.html" title="–û—Å–æ–±–∏—Å—Ç–∏–π –ø—Ä–æ—Ñ—ñ–ª—å">
        <img src="https://cdn-icons-png.flaticon.com/512/1077/1077063.png" alt="–ü—Ä–æ—Ñ—ñ–ª—å">
      </a>
    </div>
  </header>

  <nav>
    <a href="C:\Users\user\Desktop\stat_main\public\communities.html">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="C:\Users\user\Desktop\stat_main\public\districts.html">–†–∞–π–æ–Ω–∏</a>
    <a href="C:\Users\user\Desktop\stat_main\public\districts.html">–ì—Ä–æ–º–∞–¥–∏</a>
    <a href="C:\Users\user\Desktop\stat_main\public\datasets.html">–ù–∞–±–æ—Ä–∏ –¥–∞–Ω–∏—Ö</a>
    <a href="C:\Users\user\Desktop\stat_main\public\news.html">–ù–æ–≤–∏–Ω–∏</a>
  </nav>

  <h1>–¢–µ—Ä–∏—Ç–æ—Ä—ñ–∞–ª—å–Ω—ñ –≥—Ä–æ–º–∞–¥–∏</h1>

  <table>
    <thead>
      <tr>
        <th>–ù–∞–∑–≤–∞</th>
        <th>–†–∞–π–æ–Ω</th>
        <th>–ó–∞—Å–Ω–æ–≤–∞–Ω–∞</th>
        <th>–°–∞–π—Ç</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td data-label="–ù–∞–∑–≤–∞">
          <a href="#" class="community-link" data-name="–°—Ç–∞—Ä–æ—Å–∞–º–±—ñ—Ä—Å—å–∫–∞ –≥—Ä–æ–º–∞–¥–∞">–°—Ç–∞—Ä–æ—Å–∞–º–±—ñ—Ä—Å—å–∫–∞ –≥—Ä–æ–º–∞–¥–∞</a>
        </td>
        <td data-label="–†–∞–π–æ–Ω">–°–∞–º–±—ñ—Ä—Å—å–∫–∏–π</td>
        <td data-label="–ó–∞—Å–Ω–æ–≤–∞–Ω–∞">2018-10-01</td>
        <td data-label="–°–∞–π—Ç">
          <a class="link" href="https://staryysambir-community.gov.ua" target="_blank">–ü–µ—Ä–µ–π—Ç–∏</a>
        </td>
      </tr>
      <tr>
        <td data-label="–ù–∞–∑–≤–∞">
          <a href="#" class="community-link" data-name="–ì–æ—Ä–æ–¥–æ—Ü—å–∫–∞ –≥—Ä–æ–º–∞–¥–∞">–ì–æ—Ä–æ–¥–æ—Ü—å–∫–∞ –≥—Ä–æ–º–∞–¥–∞</a>
        </td>
        <td data-label="–†–∞–π–æ–Ω">–õ—å–≤—ñ–≤—Å—å–∫–∏–π</td>
        <td data-label="–ó–∞—Å–Ω–æ–≤–∞–Ω–∞">2019-07-20</td>
        <td data-label="–°–∞–π—Ç">
          <a class="link" href="https://horodok-rada.gov.ua" target="_blank">–ü–µ—Ä–µ–π—Ç–∏</a>
        </td>
      </tr>
    </tbody>
  </table>

  <div id="chartModal">
    <div class="modal-content">
      <canvas id="communityChart"></canvas>
      <button onclick="closeChart()">√ó</button>
    </div>
  </div>

  <footer>
    <p><strong>stat.loda.gov.ua</strong></p>
    <p>–õ—å–≤—ñ–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å, –º. –õ—å–≤—ñ–≤, –≤—É–ª. –í. –í–∏–Ω–Ω–∏—á–µ–Ω–∫–∞, 12 (2 –ø–æ–≤–µ—Ä—Ö)</p>
    <p>–¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+380322752774" style="color:#ffd700;">+380322752774</a></p>
    <p>–Ø–∫—â–æ –≤–∏ –º–∞—î—Ç–µ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è –∞–±–æ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó, –±—É–¥—å –ª–∞—Å–∫–∞, –Ω–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º: 
      <a href="mailto:thedigital@loda.gov.ua">thedigital@loda.gov.ua</a>
    </p>
    <p>–°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –Ω–∞–º–∏:</p>
    <p>¬© –ü—Ä–æ—î–∫—Ç —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º –∑ –ø–∏—Ç–∞–Ω—å —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –õ—å–≤—ñ–≤—Å—å–∫–æ—ó –û–î–ê –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–∏ "–¶–∏—Ñ—Ä–æ–≤–∞ –õ—å–≤—ñ–≤—â–∏–Ω–∞" 2022‚Äì2024</p>
    <p>–ö–æ–Ω—Ç–µ–Ω—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–æ –∑–∞ <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer">CC BY 4.0</a>, —è–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ —ñ–Ω—à–µ.</p>
    <p><em>–ü—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–µ.</em></p>
  </footer>

  <script>
    const toggle = document.getElementById('themeToggle');
    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-theme');
      localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
    });

    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') document.body.classList.add('dark-theme');
    });

    const chartModal = document.getElementById('chartModal');
    const ctx = document.getElementById('communityChart').getContext('2d');
    let chartInstance;

    const communityData = {
      '–°—Ç–∞—Ä–æ—Å–∞–º–±—ñ—Ä—Å—å–∫–∞ –≥—Ä–æ–º–∞–¥–∞': {
        labels: ['–ù–∞—Å–µ–ª–µ–Ω–Ω—è', '–ë—é–¥–∂–µ—Ç (–º–ª–Ω –≥—Ä–Ω)', '–ü–ª–æ—â–∞ (–∫–º¬≤)'],
        data: [12000, 45, 230]
      },
      '–ì–æ—Ä–æ–¥–æ—Ü—å–∫–∞ –≥—Ä–æ–º–∞–¥–∞': {
        labels: ['–ù–∞—Å–µ–ª–µ–Ω–Ω—è', '–ë—é–¥–∂–µ—Ç (–º–ª–Ω –≥—Ä–Ω)', '–ü–ª–æ—â–∞ (–∫–º¬≤)'],
        data: [18500, 60, 320]
      }
    };

    document.querySelectorAll('.community-link').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const name = link.dataset.name;
        const data = communityData[name];

        if (chartInstance) chartInstance.destroy();

        chartInstance = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: data.labels,
            datasets: [{
              label: name,
              data: data.data,
              backgroundColor: ['#4facfe', '#00f2fe', '#43cea2']
            }]
          },
          options: {
            responsive: true,
            scales: {
              y: { beginAtZero: true }
            }
          }
        });

        chartModal.style.display = 'flex';
      });
    });

    function closeChart() {
      chartModal.style.display = 'none';
    }
  </script>
</body>
</html>
